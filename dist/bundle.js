(()=>{const e=document.querySelectorAll(".column");function t(t,r){const c=document.createElement("div");c.className="card",c.innerText=t;const o=document.createElement("span");o.innerHTML="&#10006;",o.className="delete-card",o.addEventListener("click",(()=>{r.removeChild(c),n()})),c.appendChild(o),r.appendChild(c),function(t){t.draggable=!0,t.addEventListener("dragstart",(()=>{t.classList.add("dragging")})),t.addEventListener("dragend",(()=>{t.classList.remove("dragging")})),e.forEach((e=>{e.addEventListener("dragover",(t=>{t.preventDefault();const r=function(e,t){return[...e.querySelectorAll(".card:not(.dragging)")].reduce(((e,n)=>{const r=n.getBoundingClientRect(),c=t-r.top-r.height/2;return c<0&&c>e.offset?{offset:c,element:n}:e}),{offset:Number.NEGATIVE_INFINITY}).element}(e,t.clientY),c=document.querySelector(".dragging");null==r?e.appendChild(c):e.insertBefore(c,r),n()}))}))}(c)}function n(){const t={};e.forEach((e=>{const n=Array.from(e.querySelectorAll(".card")).map((e=>e.innerText.replace("✖️","").trim()));t[e.id]=n})),localStorage.setItem("trelloState",JSON.stringify(t))}e.forEach((e=>{const r=e.querySelector(".add-card"),c=e.querySelector(".card-container");r.addEventListener("click",(()=>{const e=prompt("Enter card text:");e&&(t(e,c),n())}))})),function(){const e=JSON.parse(localStorage.getItem("trelloState"));if(e)for(const[n,r]of Object.entries(e))r.forEach((e=>t(e,document.getElementById(n).querySelector(".card-container"))))}()})();